const d=document.querySelector(".js-input"),m=document.querySelector(".js-btnSubmit"),u=document.querySelector(".js-btnReset"),s=document.querySelector(".js-results"),o=document.querySelector(".js-favs"),c=document.querySelector(".js-popup"),f="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png",p="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";let r=[];function g(t){let e=t.images.jpg.image_url;return e===f&&(e=p),`<li class="li">
        <img src="${e}" alt="film photo" />
        <h3>${t.title}</h3>
    </li>`}function h(t){s.innerHTML="";for(let e=0;e<t.length;e++)s.innerHTML+=g(t[e])}function v(t){t.preventDefault();const e=d.value;fetch(`https://api.jikan.moe/v4/anime?q=${e}`).then(n=>n.json()).then(n=>{r=n.data,h(r)}).catch(n=>{console.error("Error reaching data:",n)})}m.addEventListener("click",v);function a(t){o.innerHTML="";for(let e=0;e<t.length;e++){const n=document.createElement("li");n.innerHTML=`
            <img src="${t[e].images.jpg.image_url}" alt="film photo" />
            <h3>${t[e].title}</h3>
        `,o.appendChild(n)}}const S=t=>{const e=t.target.parentNode;if(e){e.classList.add("fav");const n=r.find(l=>l.title===e.querySelector("h3").textContent),i=JSON.parse(localStorage.getItem("favoriteFilms"))||[];i.findIndex(l=>l.title===n.title)===-1?(i.push(n),a(i),localStorage.setItem("favoriteFilms",JSON.stringify(i)),c.innerHTML=""):c.innerHTML=`${n.title} ya est√° en la lista de favoritos.`}};s.addEventListener("click",S);const L=JSON.parse(localStorage.getItem("favoriteFilms"));a(L);function F(t){t.preventDefault,o.innerHTML="",localStorage.clear()}u.addEventListener("click",F);
//# sourceMappingURL=main.js.map
