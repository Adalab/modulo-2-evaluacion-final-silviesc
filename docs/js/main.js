const d=document.querySelector(".js-input"),m=document.querySelector(".js-btnSubmit"),u=document.querySelector(".js-btnReset"),o=document.querySelector(".js-results"),r=document.querySelector(".js-favs"),s=document.querySelector(".js-popup"),f="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png",p="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";let a=[];function g(t){let e=t.images.jpg.image_url;return e===f&&(e=p),`<li class="li">
        <img src="${e}" alt="film photo" />
        <h3>${t.title}</h3>
    </li>`}function h(t){o.innerHTML="";for(let e=0;e<t.length;e++)o.innerHTML+=g(t[e])}function v(t){t.preventDefault();const e=d.value;fetch(`https://api.jikan.moe/v4/anime?q=${e}`).then(n=>n.json()).then(n=>{a=n.data,h(a)}).catch(n=>{console.error("Error reaching data:",n)})}m.addEventListener("click",v);function c(t){r.innerHTML="";for(let e=0;e<t.length;e++){const n=document.createElement("li");n.innerHTML=`
            <img src="${t[e].images.jpg.image_url}" alt="film photo" />
            <h3>${t[e].title}</h3>
        `,r.appendChild(n),n.classList.add("favAside")}}const L=t=>{const e=t.target.parentNode;if(e){e.classList.add("favResult");const n=a.find(l=>l.title===e.querySelector("h3").textContent),i=JSON.parse(localStorage.getItem("favoriteFilms"))||[];i.findIndex(l=>l.title===n.title)===-1?(i.push(n),c(i),localStorage.setItem("favoriteFilms",JSON.stringify(i)),s.innerHTML="",s.classList.remove("header__message")):(s.innerHTML=`${n.title} ya est√° en la lista de favoritos.`,s.classList.add("header__message"))}};o.addEventListener("click",L);const S=JSON.parse(localStorage.getItem("favoriteFilms"));c(S);function F(t){t.preventDefault,r.innerHTML="",localStorage.clear()}u.addEventListener("click",F);
//# sourceMappingURL=main.js.map
